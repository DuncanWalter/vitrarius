!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vitrarius=t():e.vitrarius=t()}(this,function(){return(e=>{function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=((e,r,n)=>{t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})}),t.n=(e=>{var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r}),t.o=((e,t)=>Object.prototype.hasOwnProperty.call(e,t)),t.p="",t(t.s=0)})([function(e,t,r){"use strict";function n(e){return new a((t,r)=>{let{done:n,value:o}=r?r.next():{done:!0};return n?e(t,e=>e):e(t,e=>o[l](e,r))})}function o(e){return new a((t,r)=>{let{done:n,value:o}=r?r.next():{done:!0};if(n)return e(t,e=>e);{let n=!0,u=e(t,e=>{if(!n)throw`The 'next' function was called twice; for library performance, optics calling 'next' more than once must be created with 'traversal' in place of 'optic'`;return n=!1,o[l](e,r)});return r.return&&r.return(),u}})}function u(e,t){return n((r,n)=>t(r,n(e(r))),!1)}function i(e){return e.map(e=>"string"==typeof e||"number"==typeof e?p(e):e instanceof Array?c(...e):e instanceof Function?n((t,r)=>r(e(t))):e)}function c(...e){let t=i(e),r=t[Symbol.iterator]();return r.next(),new a((e,n)=>{let o=t[0][l](e,function*(){yield*r,void 0!==n&&(yield*n)}());return r.return&&r.return(),o})}function s(e){return new a((t,r)=>{let{done:n,value:o}=r?r.next():{done:!0};if(n)return e(t,e=>e);{let u=[];for(;!n;)u.push(o),({done:n,value:o}=r.next());return e(t,e=>{let t=u[Symbol.iterator](),{done:r,value:n}=t.next(),o=r?e:n[l](e,t);return t.return&&t.return(),o})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.optic=o,t.lens=u,t.compose=c,t.chain=function(...e){return n((t,r)=>r(i(e).reduce((e,t)=>f(t,e),t)),!1)},t.traversal=s;const l=Symbol("exec");class a{constructor(e){this[l]=e}}let f=t.view=((e,t)=>e instanceof a?e[l](t):c(e)[l](t)),p=t.pluck=(e=>u(t=>t[e],(t,r)=>{if(t[e]===r)return t;{let n=t instanceof Array?t.map(e=>e):Object.assign({},t);if("number"==typeof e&&!t instanceof Array)throw new Error("The 'pluck' lens will not assign numeric member keys to non-Arrays");if("string"==typeof e&&!t instanceof Object)throw new Error("The 'pluck' lens will not assign string member keys to non-Objects");return n[e]=r,n}}));t.inject=((e,t)=>u(e=>e,(r,n)=>{if(t===n[e])return r;{let r=Object.assign({},n);return r[e]=t,r}})),t.remove=(e=>u(e=>e,(t,r)=>{if(!e in r)return r;{let t=Object.assign({},r);return delete t[e],t}})),t.where=(e=>o((t,r)=>e(t)?r(t):t)),t.each=(()=>s((e,t)=>{let r;return e instanceof Object?(r=Object.keys(e).reduce((r,n)=>(r[n]=t(e[n]),r),{}),Object.keys(r).reduce((e,t)=>r[t]===e[t]?e:r,e)):e instanceof Array?(r=e.reduce((e,r,n)=>(e[n]=t(r),e),[])).reduce((e,t,n)=>t===e[n]?e:r,e):e}))}])});